<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="../inc/js/include.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/11.0.5/swiper-bundle.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css"
    />
    <link rel="stylesheet" href="../inc/css/common.css" type="text/css" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://unpkg.com/@studio-freight/lenis@1.0.42/dist/lenis.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/11.0.5/swiper-bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
    <script src="../inc/js/common.js"></script>
  </head>
  <body>
    <div class="imine">
      <!-- header -->
      <div
        include-html="../inc/layout/header.html"
        style="position: relative; z-index: 100"
        class="include-header"
      ></div>
      <!-- //header -->

      <main id="content">
        <div class="imine-main">
          <div class="imine-main-keyvisual">
            <video autoplay loop muted playsinline>
              <source src="../inc/video/main.mp4" type="video/mp4" />
            </video>
          </div>
          <div class="imine-inner">
            <div
              class="imine-main-introduce"
              data-aos="fade-up"
              data-aos-delay="600"
            >
              <div class="imine-main-introduce__video">
                <video autoplay loop muted playsinline>
                  <source src="../inc/video/introduce.mp4" type="video/mp4" />
                </video>
              </div>
              <div class="imine-main-introduce__contents">
                <div class="imine-main-introduce__title">
                  WHERE iNFINITE<br />
                  POSSIBILITIES<br />
                  FOR <strong>BEAUTY BEGIN</strong>
                </div>
                <div class="imine-main-introduce__text">
                  혁신적인 기술과 뛰어난 품질로 전 세계 뷰티 산업을 선도하는<br />
                  글로벌 스킨케어 ODM 전문기업입니다.
                </div>
              </div>
            </div>
            <div class="imine-main-rnd">
              <div
                class="imine-main-rnd-title"
                data-aos="fade-up"
                data-aos-delay="200"
              >
                <div class="imine-main-rnd-title__thumb">
                  <video autoplay loop muted playsinline>
                    <source src="../inc/video/rnd.mp4" type="video/mp4" />
                  </video>
                </div>
                <strong>R&D</strong>
                <p>
                  이미인은 차별화된 R&D 역량과 축적된 기술 노하우를 바탕으로
                  고객 맞춤형 연구개발과<br class="pc" />
                  끊임없는 기술 혁신을 통해 더 건강하고 아름다운 피부 가치를
                  실현해 나가겠습니다.
                </p>
                <a href=""> 더보기 </a>
              </div>
              <div class="imine-main-rnd-text">
                <div
                  class="imine-main-rnd-text-item"
                  data-aos="fade-up"
                  data-aos-delay="600"
                >
                  <div class="imine-main-rnd-text-item__thumb">
                    <img src="../inc/images/main/rnd-thumb01.png" alt="" />
                  </div>
                  <strong>INNOVATIVE R&D LAB</strong>
                  <p>
                    이미인은 차별화된 R&D 역량과 축적된 기술 노하우를 바탕으로
                    고객 맞춤형 연구개발과 끊임없는 기술 혁신을 통해 더 건강하고
                    아름다운 피부 가치를 실현해 나갑니다.
                  </p>
                </div>
                <div
                  class="imine-main-rnd-text-item"
                  data-aos="fade-up"
                  data-aos-delay="700"
                >
                  <div class="imine-main-rnd-text-item__thumb">
                    <img src="../inc/images/main/rnd-thumb02.png" alt="" />
                  </div>
                  <strong>PATENT</strong>
                  <p>
                    차별화된 아이템을 발굴하고 특허출원을 지원해 독자적 기술력을
                    상용화하고 있습니다.
                  </p>
                </div>
                <div
                  class="imine-main-rnd-text-item"
                  data-aos="fade-up"
                  data-aos-delay="800"
                >
                  <div class="imine-main-rnd-text-item__thumb">
                    <img src="../inc/images/main/rnd-thumb03.png" alt="" />
                  </div>
                  <strong>TECHNOLOGY</strong>
                  <p>
                    차별화된 제형·원단·캡슐화 기술로 스킨케어, 마스크, 의약외품
                    등 전 영역의 혁신 솔루션을 제시합니다.
                  </p>
                </div>
              </div>
            </div>
            <div class="imine-main-manufacturing">
              <div
                class="imine-main-manufacturing-head"
                data-aos="fade-up"
                data-aos-delay="400"
              >
                <h4>Manufacturing</h4>
                <div class="imine-main-manufacturing-head__text">
                  <p>
                    이미인은 글로벌 스탠더드에 부합하는 첨단 생산 인프라를
                    기반으로 스킨케어, 마스크,<br />
                    하이드로겔, 의약외품까지 전 품목을 직접 생산합니다.
                  </p>
                  <a href=""> 더보기 </a>
                </div>
              </div>
              <div class="imine-main-manufacturing-list">
                <div
                  class="imine-main-manufacturing-list-item"
                  data-aos="fade-up"
                  data-aos-delay="600"
                >
                  <div class="imine-main-manufacturing-list-item__thumb">
                    <img
                      src="../inc/images/main/manufacturing-thumb01.png"
                      alt=""
                    />
                  </div>
                  <strong>17,916,000/MONTH PRODUCTION</strong>
                  <p>
                    월간 총 생산 Capacity 약 1,790만 개의 전 제품을 직접
                    생산하며, 납기일을 안정적으로 준수합니다.
                  </p>
                </div>
                <div
                  class="imine-main-manufacturing-list-item"
                  data-aos="fade-up"
                  data-aos-delay="800"
                >
                  <div class="imine-main-manufacturing-list-item__thumb">
                    <img
                      src="../inc/images/main/manufacturing-thumb02.png"
                      alt=""
                    />
                  </div>
                  <strong>QUALITY MANAGEMENT</strong>
                  <p>
                    원료부터 출하까지 전 과정에서 글로벌 기준의 철저한
                    품질·안전성 검증을 수행합니다.
                  </p>
                </div>
              </div>
            </div>
            <div class="imine-main-marketingsupport">
              <div
                class="imine-main-marketingsupport-head"
                data-aos="fade-up"
                data-aos-delay="400"
              >
                <h4>Marketing Support</h4>
                <div class="imine-main-marketingsupport-head__text">
                  <p>
                    이미인은 체계적인 빅데이터 기반 트렌드 분석과 시장
                    인사이트를 바탕으로 제품 개발은 물론<br />
                    고객사의 마케팅 전략까지 지원하는 통합 솔루션을 제공합니다.
                  </p>
                  <a href=""> 더보기 </a>
                </div>
              </div>
              <div class="imine-main-marketingsupport-list">
                <div
                  class="imine-main-marketingsupport-list-item"
                  data-aos="fade-up"
                  data-aos-delay="500"
                >
                  <div class="imine-main-marketingsupport-list-item__thumb">
                    <img
                      src="../inc/images/main/marketingsupport-thumb01.png"
                      alt=""
                    />
                    <p>MARKETING CENTER</p>
                  </div>
                  <p>
                    성공적인 제품 개발을 위한 고객 맞춤형 인사이트를 제공합니다.
                  </p>
                </div>
                <div
                  class="imine-main-marketingsupport-list-item"
                  data-aos="fade-up"
                  data-aos-delay="600"
                >
                  <div class="imine-main-marketingsupport-list-item__thumb">
                    <img
                      src="../inc/images/main/marketingsupport-thumb02.png"
                      alt=""
                    />
                    <p>TREND ANALYTICS</p>
                  </div>
                  <p>
                    독자적 빅데이터 분석 모델로 핵심 트렌드와 기능을 선제적으로
                    예측해 시장 변화에 빠르게 대응합니다.
                  </p>
                </div>
                <div
                  class="imine-main-marketingsupport-list-item"
                  data-aos="fade-up"
                  data-aos-delay="800"
                >
                  <div class="imine-main-marketingsupport-list-item__thumb">
                    <img
                      src="../inc/images/main/marketingsupport-thumb03.png"
                      alt=""
                    />
                    <p>PLANNING & DEVELOPMENT</p>
                  </div>
                  <p>
                    빅데이터와 FGD를 기반으로 소비자들이 가장 필요로 하는 제품을
                    기획∙개발합니다.
                  </p>
                </div>
              </div>
            </div>
          </div>
          <div
            class="imine-main-partner"
            data-aos="fade-up"
            data-aos-delay="400"
          >
            <div
              class="imine-inner"
              data-speed="0.2"
              style="background-image: url(../inc/images/main/partner.png)"
            >
              <div>
                <p>
                  이미인은 전 세계 40여 개국, 100여 개<br />
                  브랜드 파트너와 함께합니다.
                </p>
                <a href=""> 글로벌 브랜드 확인하기 </a>
              </div>
            </div>
          </div>
          <div class="imine-inner">
            <script>
              (function () {
                const section = document.querySelector(
                  '.imine-main-partner .imine-inner'
                );
                const speed = parseFloat(section.dataset.speed || 0.6);
                let ticking = false;

                function update() {
                  const rect = section.getBoundingClientRect();
                  // 뷰포트 중앙 기준으로 오프셋 계산 (-1..1 범위)
                  const vh = window.innerHeight;
                  const centerDelta = vh / 2 - (rect.top + rect.height / 2); // px
                  const offset = centerDelta * speed; // 이동량
                  section.style.backgroundPosition = `center ${offset}px`;
                  ticking = false;
                }

                function onScroll() {
                  if (!ticking) {
                    requestAnimationFrame(update);
                    ticking = true;
                  }
                }

                // 화면에 들어왔을 때만 계산(성능 배려)
                const io =
                  'IntersectionObserver' in window
                    ? new IntersectionObserver(
                        (entries) => {
                          entries.forEach((e) => {
                            if (e.isIntersecting) {
                              window.addEventListener('scroll', onScroll, {
                                passive: true,
                              });
                              window.addEventListener('resize', onScroll);
                              update();
                            } else {
                              window.removeEventListener('scroll', onScroll);
                              window.removeEventListener('resize', onScroll);
                            }
                          });
                        },
                        { threshold: 0 }
                      )
                    : null;

                if (io) io.observe(section);
                else {
                  // 구형 브라우저
                  window.addEventListener('scroll', onScroll, {
                    passive: true,
                  });
                  window.addEventListener('resize', onScroll);
                  update();
                }
              })();
            </script>
            <div class="imine-main-news">
              <div
                class="imine-main-news__contents"
                data-aos="fade-up"
                data-aos-delay="200"
              >
                <h4>Latest News</h4>
                <div class="imine-main-news__tab">
                  <a href="" class="active">보도자료</a>
                  <a href="">공지사항</a>
                </div>
                <div class="imine-main-news-list">
                  <a href="" class="imine-main-news-list-item">
                    <strong>이미인 2026년 제 2공장 설립 완공 예정</strong>
                    <p>
                      호모믹서(제조설비) / 기초 반자동 & 자동 멀티라인 / 셀라인
                      시설 확충한 규모 79% 확대된 제 2공장 2026년설립 완공
                      예정.. 호모믹서(제조설비) / 기초 반자동 & 자동 멀티라인 /
                      셀라인 시설 확충한 규모 79% 확대된 제 2공장 2026년설립
                      완공 예정..
                    </p>
                    <span>2025-06-17</span>
                  </a>
                  <a href="" class="imine-main-news-list-item">
                    <strong>이미인 김주원 부회장 대통령 표창</strong>
                    <p>
                      김 대표는 2006년 창업한 이후 28년 동안 화장품업에만
                      종사하며 2019년 해외매출 205억 원 달성으로 K뷰티 활성화..
                    </p>
                    <span>2025-06-17</span>
                  </a>
                  <a href="" class="imine-main-news-list-item">
                    <strong>이미인, 마이크로니들 MOU 체결</strong>
                    <p>
                      호모믹서(제조설비) / 기초 반자동 & 자동 멀티라인 / 셀라인
                      시설 확충한 규모 79% 확대된 제 2공장 2026년설립 완공
                      예정..
                    </p>
                    <span>2025-06-17</span>
                  </a>
                </div>
              </div>
              <div
                class="imine-main-news-swiper"
                data-aos="fade-up"
                data-aos-delay="400"
              >
                <div class="swiper">
                  <div class="swiper-wrapper">
                    <div class="swiper-slide">
                      <div class="imine-main-news-swiper__thumb">
                        <video loop muted>
                          <source
                            src="../inc/video/news01.mp4"
                            type="video/mp4"
                          />
                        </video>
                      </div>
                      <p>탄탄하게 감싸 올리는, UP쎄라 텐션 마스크</p>
                      <span>1일 전</span>
                    </div>
                    <div class="swiper-slide">
                      <div class="imine-main-news-swiper__thumb">
                        <video loop muted playsinline>
                          <source
                            src="../inc/video/news02.mp4"
                            type="video/mp4"
                          />
                        </video>
                      </div>
                      <p>쌀 발효 추출물로 더 촉촉한, 크림 보습 마스크</p>
                      <span>2주 전</span>
                    </div>
                    <div class="swiper-slide">
                      <div class="imine-main-news-swiper__thumb">
                        <video loop muted playsinline>
                          <source
                            src="../inc/video/news03.mp4"
                            type="video/mp4"
                          />
                        </video>
                      </div>
                      <p>데일리 마사지 크림, 매트릭스 탄력 밤</p>
                      <span>1개월 전</span>
                    </div>
                    <div class="swiper-slide">
                      <div class="imine-main-news-swiper__thumb">
                        <video loop muted playsinline>
                          <source
                            src="../inc/video/news04.mp4"
                            type="video/mp4"
                          />
                        </video>
                      </div>
                      <p>거친 각질 숨죽이는 쫀쫀한 젤라임 팩</p>
                      <span>1개월 전</span>
                    </div>
                    <div class="swiper-slide">
                      <div class="imine-main-news-swiper__thumb">
                        <video loop muted>
                          <source
                            src="../inc/video/news01.mp4"
                            type="video/mp4"
                          />
                        </video>
                      </div>
                      <p>탄탄하게 감싸 올리는, UP쎄라 텐션 마스크</p>
                      <span>1일 전</span>
                    </div>
                    <div class="swiper-slide">
                      <div class="imine-main-news-swiper__thumb">
                        <video loop muted playsinline>
                          <source
                            src="../inc/video/news02.mp4"
                            type="video/mp4"
                          />
                        </video>
                      </div>
                      <p>쌀 발효 추출물로 더 촉촉한, 크림 보습 마스크</p>
                      <span>2주 전</span>
                    </div>
                    <div class="swiper-slide">
                      <div class="imine-main-news-swiper__thumb">
                        <video loop muted playsinline>
                          <source
                            src="../inc/video/news03.mp4"
                            type="video/mp4"
                          />
                        </video>
                      </div>
                      <p>데일리 마사지 크림, 매트릭스 탄력 밤</p>
                      <span>1개월 전</span>
                    </div>
                    <div class="swiper-slide">
                      <div class="imine-main-news-swiper__thumb">
                        <video loop muted playsinline>
                          <source
                            src="../inc/video/news04.mp4"
                            type="video/mp4"
                          />
                        </video>
                      </div>
                      <p>거친 각질 숨죽이는 쫀쫀한 젤라임 팩</p>
                      <span>1개월 전</span>
                    </div>
                  </div>
                  <div class="swiper-pagination"></div>
                </div>
                <script>
                  // Swiper 초기화
                  var swiperNews = new Swiper(
                    '.imine-main-news-swiper .swiper',
                    {
                      loop: true,
                      slidesPerView: 'auto',
                      spaceBetween: 24,
                      autoplay: {
                        delay: 2500,
                        disableOnInteraction: false,
                      },
                    }
                  );

                  const container = document.querySelector(
                    '.imine-main-news-swiper'
                  );
                  const videos = container.querySelectorAll(
                    '.swiper-slide video'
                  );

                  // 모든 비디오 정지/리셋
                  function pauseAllVideos() {
                    videos.forEach((v) => {
                      v.pause();
                      v.currentTime = 0;
                    });
                  }

                  // 활성 슬라이드 비디오만 재생
                  function playActiveSlideVideo() {
                    pauseAllVideos();
                    const activeVideo = container.querySelector(
                      '.swiper-slide-active video'
                    );
                    if (activeVideo) {
                      // 일부 브라우저에서 play()가 Promise를 반환하므로 에러 무시
                      activeVideo.play().catch(() => {});
                    }
                  }

                  // 최초 1회 실행
                  playActiveSlideVideo();

                  // 슬라이드 전환 완료 시 활성 비디오 재생
                  swiperNews.on(
                    'slideChangeTransitionEnd',
                    playActiveSlideVideo
                  );

                  // 마우스 오버 시 오토플레이 정지, 마우스가 벗어나면 재개
                  container.addEventListener('mouseenter', () => {
                    if (swiperNews.autoplay && swiperNews.autoplay.running) {
                      swiperNews.autoplay.stop();
                    }
                  });
                  container.addEventListener('mouseleave', () => {
                    if (swiperNews.autoplay && !swiperNews.autoplay.running) {
                      swiperNews.autoplay.start();
                    }
                    // 컨테이너를 벗어나면 현재 보이는 활성 슬라이드 영상은 계속 재생되도록 유지
                    playActiveSlideVideo();
                  });

                  // 슬라이드 안의 비디오에 직접 마우스를 올려도 오토플레이 정지(선택적)
                  videos.forEach((video) => {
                    video.addEventListener('mouseenter', () => {
                      if (swiperNews.autoplay && swiperNews.autoplay.running) {
                        swiperNews.autoplay.stop();
                      }
                      // 활성 슬라이드가 아니면 재생시키지 않음(활성 슬라이드만 재생 원칙)
                      const isActive = video
                        .closest('.swiper-slide')
                        ?.classList.contains('swiper-slide-active');
                      if (isActive) video.play().catch(() => {});
                    });
                    video.addEventListener('mouseleave', () => {
                      // 비디오는 계속 재생(요구사항상 활성 슬라이드 영상은 재생 유지)
                      // 필요 시 아래 주석 해제해서 마우스가 비디오에서 나갈 때 정지하도록 변경 가능
                      // const isActive = video.closest('.swiper-slide')?.classList.contains('swiper-slide-active');
                      // if (isActive) { video.pause(); video.currentTime = 0; }
                    });
                  });

                  // --- 기존 코드 유지 ---
                  // pauseAllVideos(), playActiveSlideVideo(), swiperNews, container, videos 등은 그대로 사용

                  let hoveredVideo = null;

                  // 슬라이드 안의 비디오에 마우스 오버 시: 모든 비디오 정지 → 해당 비디오만 재생
                  videos.forEach((video) => {
                    video.addEventListener('mouseenter', () => {
                      hoveredVideo = video;

                      // 오토플레이 정지
                      if (swiperNews.autoplay && swiperNews.autoplay.running) {
                        swiperNews.autoplay.stop();
                      }

                      // 다른 모든 비디오 정지/리셋 후 이 비디오만 재생
                      pauseAllVideos();
                      video.play().catch(() => {});
                    });

                    video.addEventListener('mouseleave', () => {
                      // 현재 슬라이드가 활성 슬라이드가 아니라면 마우스가 떠날 때 정지/리셋
                      const isActive = video
                        .closest('.swiper-slide')
                        ?.classList.contains('swiper-slide-active');

                      if (!isActive) {
                        video.pause();
                        video.currentTime = 0;
                      }

                      // 이 영상에 대한 hover 종료
                      if (hoveredVideo === video) hoveredVideo = null;

                      // 다른 영상 위로 곧바로 hover가 가지 않았다면, 활성 슬라이드 영상만 재생 상태로 복원
                      // (조금 뒤에 다른 hover가 들어오면 그쪽 mouseenter가 다시 처리)
                      setTimeout(() => {
                        if (!hoveredVideo) {
                          playActiveSlideVideo();
                        }
                      }, 0);
                    });
                  });

                  // 컨테이너에서 마우스가 완전히 벗어나면: 오토플레이 재개 + 활성 슬라이드 영상만 재생
                  container.addEventListener('mouseleave', () => {
                    if (swiperNews.autoplay && !swiperNews.autoplay.running) {
                      swiperNews.autoplay.start();
                    }
                    hoveredVideo = null;
                    playActiveSlideVideo();
                  });
                </script>
              </div>
            </div>
          </div>
        </div>
      </main>

      <div class="imine-footer-brand" data-aos="fade-up" data-aos-delay="200">
        <div class="swiper">
          <div class="swiper-wrapper">
            <div class="swiper-slide">
              <img src="../inc/images/brand/nudestix 1.png" alt="" />
            </div>
            <div class="swiper-slide">
              <img src="../inc/images/brand/mecca 1.png" alt="" />
            </div>
            <div class="swiper-slide">
              <img src="../inc/images/brand/aswatson 1.png" alt="" />
            </div>
            <div class="swiper-slide">
              <img src="../inc/images/brand/Bioeffect 1.png" alt="" />
            </div>
            <div class="swiper-slide">
              <img src="../inc/images/brand/drmtlgy2 1.png" alt="" />
            </div>
            <div class="swiper-slide">
              <img src="../inc/images/brand/erno laszlo 1.png" alt="" />
            </div>
            <div class="swiper-slide">
              <img src="../inc/images/brand/glowrecipe 1.png" alt="" />
            </div>
            <div class="swiper-slide">
              <img src="../inc/images/brand/iris ohyama 1.png" alt="" />
            </div>
            <div class="swiper-slide">
              <img src="../inc/images/brand/kiss 1.png" alt="" />
            </div>
            <div class="swiper-slide">
              <img src="../inc/images/brand/kose 1.png" alt="" />
            </div>
            <div class="swiper-slide">
              <img src="../inc/images/brand/Nykaa 1.png" alt="" />
            </div>
            <div class="swiper-slide">
              <img src="../inc/images/brand/patchology 1.png" alt="" />
            </div>
            <div class="swiper-slide">
              <img src="../inc/images/brand/tula 1.png" alt="" />
            </div>
            <div class="swiper-slide">
              <img
                src="../inc/images/brand/walgreens boots alliance 1.png"
                alt=""
              />
            </div>
          </div>
        </div>
      </div>

      <!-- footer -->
      <div include-html="../inc/layout/footer.html"></div>
      <!-- //footer -->
    </div>
  </body>
</html>
